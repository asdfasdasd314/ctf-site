var ie=o=>{throw TypeError(o)};var ne=(o,s,v)=>s.has(o)||ie("Cannot "+v);var A=(o,s,v)=>(ne(o,s,"read from private field"),v?v.call(o):s.get(o)),ot=(o,s,v)=>s.has(o)?ie("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(o):s.set(o,v),Pt=(o,s,v,x)=>(ne(o,s,"write to private field"),x?x.call(o,v):s.set(o,v),v);import{t as N,a as w,c as le,n as pt,b as ce}from"../chunks/6w1StL2M.js";import{h as ve,P as ge,o as Oe,l as f,i as t,p as me,j as T,t as O,a as he,s as n,c as r,a6 as xt,r as e,k as J,f as ue}from"../chunks/Bm_VgG9E.js";import{s as _,d as Re,e as Be}from"../chunks/8TWQb_4_.js";import{i as z}from"../chunks/Cjra9w-q.js";import{r as Ne,l as Ie,t as xe,f as Le,a as qe}from"../chunks/15L3tq2V.js";import{p as M}from"../chunks/BYUgaS6m.js";import{o as ye}from"../chunks/BLBxmbFV.js";import{l as be,c as ze}from"../chunks/BxC8vcHP.js";import{e as dt,i as it}from"../chunks/SK7ny9Sp.js";import{s as E}from"../chunks/ZKL_xWPK.js";import{g as Fe}from"../chunks/BXOo3Ywn.js";import{g as Et}from"../chunks/CqrwVcUq.js";function pe(o,s,v){var x=o.__className,u=He(s);ve&&o.className===u?o.__className=u:(x!==u||ve&&o.className!==u)&&(s==null?o.removeAttribute("class"):o.className=u,o.__className=u)}function He(o,s){return(o??"")+""}function fe(o){return Object.prototype.toString.call(o)==="[object Date]"}function Ve(o){return o}function Ze(o){const s=o-1;return s*s*s+1}function Tt(o,s){if(o===s||o!==o)return()=>o;const v=typeof o;if(v!==typeof s||Array.isArray(o)!==Array.isArray(s))throw new Error("Cannot interpolate values of different type");if(Array.isArray(o)){const x=s.map((u,p)=>Tt(o[p],u));return u=>x.map(p=>p(u))}if(v==="object"){if(!o||!s)throw new Error("Object cannot be null");if(fe(o)&&fe(s)){const p=o.getTime(),m=s.getTime()-p;return y=>new Date(p+y*m)}const x=Object.keys(s),u={};return x.forEach(p=>{u[p]=Tt(o[p],s[p])}),p=>{const C={};return x.forEach(m=>{C[m]=u[m](p)}),C}}if(v==="number"){const x=s-o;return u=>o+u*x}return()=>s}var B,Y,nt,U;const Rt=class Rt{constructor(s,v={}){ot(this,B,ge(void 0));ot(this,Y,ge(void 0));ot(this,nt);ot(this,U,null);A(this,B).v=A(this,Y).v=s,Pt(this,nt,v)}static of(s,v){const x=new Rt(s(),v);return Oe(()=>{x.set(s())}),x}set(s,v){var I;f(A(this,Y),s);let{delay:x=0,duration:u=400,easing:p=Ve,interpolate:C=Tt}={...A(this,nt),...v};if(u===0)return(I=A(this,U))==null||I.abort(),f(A(this,B),s),Promise.resolve();const m=Ne.now()+x;let y,S=!1,k=A(this,U);return Pt(this,U,Ie(b=>{if(b<m)return!0;if(!S){S=!0;const R=A(this,B).v;y=C(R,s),typeof u=="function"&&(u=u(R,s)),k==null||k.abort()}const L=b-m;return L>u?(f(A(this,B),s),!1):(f(A(this,B),y(p(L/u))),!0)})),A(this,U).promise}get current(){return t(A(this,B))}get target(){return t(A(this,Y))}set target(s){this.set(s)}};B=new WeakMap,Y=new WeakMap,nt=new WeakMap,U=new WeakMap;let Ot=Rt;var Je=pt('<path stroke="white" stroke-width="1" class="transition-all duration-1000 ease-out"></path>'),Ue=N('<div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm"><div class="flex justify-between items-center mb-2"><div class="flex items-center"><div class="w-3 h-3 rounded-full mr-2"></div> <span class="font-medium text-gray-800 dark:text-white"> </span></div> <span class="text-sm text-gray-500 dark:text-gray-400"> </span></div> <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"><div class="h-2.5 rounded-full transition-all duration-1000 ease-out"></div></div></div>'),We=N('<div><div class="flex justify-between items-center mb-2"><div class="flex items-center"><div></div> <span class="font-medium text-gray-800 dark:text-white"> </span></div> <span class="text-sm text-gray-500 dark:text-gray-400"> </span></div> <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"><div></div></div></div>'),Ye=pt('<path stroke="white" stroke-width="1" class="transition-all duration-1000 ease-out"></path>'),Ge=N('<div class="flex items-center"><div class="w-3 h-3 rounded-full mr-2"></div> <span class="text-sm text-gray-600 dark:text-gray-300"> </span></div>'),Ke=N('<div class="flex items-center"><div class="w-3 h-3 rounded-full bg-gray-200 dark:bg-gray-500 mr-2"></div> <span class="text-sm text-gray-600 dark:text-gray-300"> </span></div>'),Qe=N('<div class="dashboard-stats bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 svelte-1mq0d4k"><h2 class="text-2xl font-bold mb-6 text-gray-800 dark:text-white">Your Progress</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"><div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 flex flex-col items-center justify-center col-span-1 md:col-span-1 relative"><div class="relative w-52 h-52"><svg width="200" height="200" viewBox="0 0 200 200" class="transform -rotate-90"><!></svg> <div class="absolute inset-0 flex flex-col items-center justify-center"><span class="text-3xl font-bold text-gray-800 dark:text-white"> </span> <span class="text-sm text-gray-600 dark:text-gray-500">Completed</span></div></div> <div class="flex items-center justify-center gap-4 mt-4"><div class="flex items-center"><div class="w-3 h-3 rounded-full bg-emerald-500 mr-2"></div> <span class="text-sm text-gray-600 dark:text-gray-300"> </span></div> <div class="flex items-center"><div class="w-3 h-3 rounded-full bg-gray-200 dark:bg-gray-500 mr-2"></div> <span class="text-sm text-gray-600 dark:text-gray-300"> </span></div></div></div> <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 col-span-1 md:col-span-2"><h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-white">Summary</h3> <div class="grid grid-cols-2 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm"><div class="flex items-center"><div class="p-2 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-500 dark:text-emerald-300 mr-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></div> <div><p class="text-sm text-gray-500 dark:text-gray-400">Total Points</p> <p class="text-xl font-bold text-gray-800 dark:text-white"> </p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm"><div class="flex items-center"><div class="p-2 rounded-full bg-orange-100 dark:bg-orange-900 text-orange-500 dark:text-orange-300 mr-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path></svg></div> <div><p class="text-sm text-gray-500 dark:text-gray-400">Current Streak</p> <p class="text-xl font-bold text-gray-800 dark:text-white"> </p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm"><div class="flex items-center"><div class="p-2 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-500 dark:text-purple-300 mr-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div> <div><p class="text-sm text-gray-500 dark:text-gray-400">Account Created</p> <p class="text-md font-bold text-gray-800 dark:text-white"> </p></div></div></div></div></div></div> <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 mb-8"><h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-white">Progress by Category</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div> <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6 mb-8"><h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-white">Progress by Difficulty</h3> <div class="space-y-4"></div></div> <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6"><h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-white">Detailed Breakdown</h3> <div class="flex flex-col md:flex-row items-center gap-6"><div class="relative w-52 h-52 flex-shrink-0"><svg width="200" height="200" viewBox="0 0 200 200" class="transform -rotate-90"><!></svg></div> <div class="grid grid-cols-2 gap-x-8 gap-y-2"><!> <!></div></div></div> <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6"><div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="text-center"><div class="text-2xl font-bold text-gray-800 dark:text-white"> </div> <div class="text-sm text-gray-600 dark:text-gray-400">Total Points</div></div> <div class="text-center"><div class="text-2xl font-bold text-gray-800 dark:text-white"> </div> <div class="text-sm text-gray-600 dark:text-gray-400">Solved</div></div> <div class="text-center"><div class="text-2xl font-bold text-gray-800 dark:text-white"> </div> <div class="text-sm text-gray-600 dark:text-gray-400">Day Streak</div></div> <div class="text-center"><div class="text-2xl font-bold text-gray-800 dark:text-white"> </div> <div class="text-sm text-gray-600 dark:text-gray-400">Account Created</div></div></div></div></div>');function Xe(o,s){me(s,!0);let v=T(M([])),x=T(!0),u=T(null),p=T(M([])),C=T(M([])),m=T(M({totalPoints:0,totalSolved:0,totalExercises:0,streak:0,createdAt:new Date().toISOString()})),y=xt(()=>t(p).reduce((d,a)=>d+a.total,0)),S=xt(()=>t(p).reduce((d,a)=>d+a.solved,0)),k=xt(()=>t(y)-t(S)),I=xt(()=>t(y)>0?Math.round(t(S)/t(y)*100):0);const b=80,L=new Ot(0,{duration:1e3,easing:Ze});let R=T(!1);function G(){let d=0;const a=[];if(t(S)===0)return a.push({type:"remaining",startAngle:0,endAngle:360,color:"#e5e7eb",percentage:100}),a;const g=t(S)/t(y)*360;return a.push({type:"solved",startAngle:d,endAngle:d+g,color:"#10b981",percentage:t(S)/t(y)*100}),d+=g,t(k)>0&&a.push({type:"remaining",startAngle:d,endAngle:360,color:"#e5e7eb",percentage:t(k)/t(y)*100}),a}function F(d,a){if(a-d===360)return`M 100,100 m -${b},0 a ${b},${b} 0 1,0 ${b*2},0 a ${b},${b} 0 1,0 -${b*2},0`;const g=lt(b,d),i=lt(b,a),c=a-d>180?1:0;return["M",100,100,"L",g.x,g.y,"A",b,b,0,c,1,i.x,i.y,"Z"].join(" ")}function lt(d,a){const g=(a-90)*Math.PI/180;return{x:100+d*Math.cos(g),y:100+d*Math.sin(g)}}function ft(){let d=0;const a=[];for(const g of t(p)){const i=g.solved/t(y)*360;i>0&&(a.push({name:g.name,startAngle:d,endAngle:d+i,color:g.color,solved:g.solved,total:g.total}),d+=i)}return t(k)>0&&a.push({name:"Remaining",startAngle:d,endAngle:360,color:"#e5e7eb",solved:0,total:t(k)}),a}function ct(d){switch(d){case"Easy":return"bg-green-500";case"Medium":return"bg-yellow-500";case"Hard":return"bg-red-500";default:return"bg-gray-500"}}function vt(d){const a=new Date(d+"Z"),i=Math.floor((new Date().getTime()-a.getTime())/1e3);if(i<60)return`${i} seconds ago`;if(i<3600){const c=Math.floor(i/60);return`${c} ${c===1?"minute":"minutes"} ago`}if(i<86400){const c=Math.floor(i/3600);return`${c} ${c===1?"hour":"hours"} ago`}if(i<604800){const c=Math.floor(i/86400);return`${c} ${c===1?"day":"days"} ago`}if(i<2592e3){const c=Math.floor(i/604800);return`${c} ${c===1?"week":"weeks"} ago`}if(i<31536e3){const c=Math.floor(i/2592e3);return`${c} ${c===1?"month":"months"} ago`}const l=Math.floor(i/31536e3);return`${l} ${l===1?"year":"years"} ago`}async function K(){f(p,M([{name:"Web",total:0,solved:0,color:"#10b981"},{name:"Crypto",total:0,solved:0,color:"#3b82f6"},{name:"Binary",total:0,solved:0,color:"#ef4444"},{name:"Forensics",total:0,solved:0,color:"#8b5cf6"},{name:"Reverse",total:0,solved:0,color:"#f59e0b"},{name:"OSINT",total:0,solved:0,color:"#ec4899"},{name:"Network",total:0,solved:0,color:"#06b6d4"},{name:"Misc",total:0,solved:0,color:"#6b7280"}])),f(C,M([{name:"Easy",total:0,solved:0},{name:"Medium",total:0,solved:0},{name:"Hard",total:0,solved:0}]));for(const i of t(v)){const l=t(p).find(c=>c.name.toLowerCase()===i.category.toLowerCase());l&&(l.total++,i.isCompleted&&l.solved++)}for(const i of t(v)){const l=t(C).find(c=>c.name.toLowerCase()===i.difficulty.toLowerCase());l&&(l.total++,i.isCompleted&&l.solved++)}const a=await(await fetch("/api/exercises/streak",{credentials:"include"})).json();let g=0;a.success&&(g=a.streak),f(m,M({totalPoints:t(v).reduce((i,l)=>i+(l.isCompleted?l.points:0),0),totalSolved:t(v).filter(i=>i.isCompleted).length,totalExercises:t(v).length,streak:g,createdAt:t(m).createdAt}))}ye(async()=>{try{f(v,M(await Fe()));const a=await(await fetch("/api/exercises/completed",{credentials:"include"})).json();if(a.success)f(v,M(t(v).map(l=>({...l,isCompleted:a.exercises.some(c=>c.exercise_id===l.exerciseId)}))));else throw new Error(a.err||"Failed to fetch completed exercises");const i=await(await fetch("/api/user/creation-date",{credentials:"include"})).json();i.success&&(t(m).createdAt=i.created_at),await K(),L.set(t(I)),setTimeout(()=>{f(R,!0)},300)}catch(d){f(u,M(d instanceof Error?d.message:"An unknown error occurred"))}finally{f(x,!1)}});var Q=Qe(),X=n(r(Q),2),tt=r(X),et=r(tt),h=r(et),$=r(h);{var H=d=>{var a=le(),g=ue(a);dt(g,17,G,it,(i,l)=>{var c=Je();O(j=>{E(c,"d",j),E(c,"fill",t(l).color),E(c,"style",`opacity: ${(t(l).type==="solved"?1:.7)??""};`)},[()=>F(t(l).startAngle,t(l).endAngle)]),w(i,c)}),w(d,a)};z($,d=>{t(R)&&d(H)})}e(h);var W=n(h,2),V=r(W),Z=r(V);e(V),J(2),e(W),e(et);var q=n(et,2),rt=r(q),gt=n(r(rt),2),mt=r(gt);e(gt),e(rt);var D=n(rt,2),P=n(r(D),2),ht=r(P);e(P),e(D),e(q),e(tt);var Bt=n(tt,2),Nt=n(r(Bt),2),yt=r(Nt),It=r(yt),Lt=n(r(It),2),qt=n(r(Lt),2),_e=r(qt,!0);e(qt),e(Lt),e(It),e(yt);var bt=n(yt,2),zt=r(bt),Ft=n(r(zt),2),Ht=n(r(Ft),2),we=r(Ht);e(Ht),e(Ft),e(zt),e(bt);var Vt=n(bt,2),Zt=r(Vt),Jt=n(r(Zt),2),Ut=n(r(Jt),2),ke=r(Ut,!0);e(Ut),e(Jt),e(Zt),e(Vt),e(Nt),e(Bt),e(X);var _t=n(X,2),Wt=n(r(_t),2);dt(Wt,21,()=>t(p),it,(d,a)=>{var g=Ue(),i=r(g),l=r(i),c=r(l),j=n(c,2),St=r(j,!0);e(j),e(l);var at=n(l,2),jt=r(at);e(at),e(i);var st=n(i,2),ut=r(st);e(st),e(g),O(Mt=>{E(c,"style",`background-color: ${t(a).color??""}`),_(St,t(a).name),_(jt,`${t(a).solved??""}/${t(a).total??""} ${Mt??""}`),E(ut,"style",`width: ${(t(a).total>0?t(a).solved/t(a).total*100:0)??""}%; background-color: ${t(a).color??""}`)},[()=>t(a).total>0?`(${Math.round(t(a).solved/t(a).total*100)}%)`:"(0%)"]),w(d,g)}),e(Wt),e(_t);var wt=n(_t,2),Yt=n(r(wt),2);dt(Yt,21,()=>t(C),it,(d,a)=>{var g=We(),i=r(g),l=r(i),c=r(l),j=n(c,2),St=r(j,!0);e(j),e(l);var at=n(l,2),jt=r(at);e(at),e(i);var st=n(i,2),ut=r(st);e(st),e(g),O((Mt,Ee,Te)=>{pe(c,`${Mt??""} svelte-1mq0d4k`),_(St,t(a).name),_(jt,`${t(a).solved??""}/${t(a).total??""} ${Ee??""}`),pe(ut,`${Te??""} svelte-1mq0d4k`),E(ut,"style",`width: ${(t(a).total>0?t(a).solved/t(a).total*100:0)??""}%`)},[()=>`w-3 h-3 rounded-full mr-2 ${ct(t(a).name)}`,()=>t(a).total>0?`(${Math.round(t(a).solved/t(a).total*100)}%)`:"(0%)",()=>`h-2.5 rounded-full transition-all duration-1000 ease-out ${ct(t(a).name)}`]),w(d,g)}),e(Yt),e(wt);var kt=n(wt,2),Gt=n(r(kt),2),$t=r(Gt),Kt=r($t),$e=r(Kt);{var Ae=d=>{var a=le(),g=ue(a);dt(g,17,ft,it,(i,l)=>{var c=Ye();O(j=>{E(c,"d",j),E(c,"fill",t(l).color),E(c,"style",`opacity: ${(t(l).name==="Remaining"?.7:1)??""};`)},[()=>F(t(l).startAngle,t(l).endAngle)]),w(i,c)}),w(d,a)};z($e,d=>{t(R)&&d(Ae)})}e(Kt),e($t);var Qt=n($t,2),Xt=r(Qt);dt(Xt,17,()=>t(p).filter(d=>d.solved>0),it,(d,a)=>{var g=Ge(),i=r(g),l=n(i,2),c=r(l);e(l),e(g),O(j=>{E(i,"style",`background-color: ${t(a).color??""}`),_(c,`${t(a).name??""}: ${t(a).solved??""} (${j??""}%)`)},[()=>Math.round(t(a).solved/t(y)*100)]),w(d,g)});var Ce=n(Xt,2);{var De=d=>{var a=Ke(),g=n(r(a),2),i=r(g);e(g),e(a),O(l=>_(i,`Remaining: ${t(k)??""} (${l??""}%)`),[()=>Math.round(t(k)/t(y)*100)]),w(d,a)};z(Ce,d=>{t(k)>0&&d(De)})}e(Qt),e(Gt),e(kt);var te=n(kt,2),ee=r(te),At=r(ee),re=r(At),Se=r(re,!0);e(re),J(2),e(At);var Ct=n(At,2),ae=r(Ct),je=r(ae,!0);e(ae),J(2),e(Ct);var Dt=n(Ct,2),se=r(Dt),Me=r(se,!0);e(se),J(2),e(Dt);var oe=n(Dt,2),de=r(oe),Pe=r(de,!0);e(de),J(2),e(oe),e(ee),e(te),e(Q),O(d=>{_(Z,`${t(I)??""}%`),_(mt,`Solved (${t(S)??""})`),_(ht,`Remaining (${t(k)??""})`),_(_e,t(m).totalPoints),_(we,`${t(m).streak??""} days`),_(ke,d),_(Se,t(m).totalPoints),_(je,t(m).totalSolved),_(Me,t(m).streak),_(Pe,d)},[()=>vt(t(m).createdAt)]),w(o,Q),he()}const tr=async(o,s)=>{f(s,!0),(await(await fetch("/api/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).json()).success&&(be.set(!1),await Et("/login")),f(s,!1)};var er=pt('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Signing out...',1),rr=(o,s)=>f(s,!0),ar=N('<button class="px-4 py-2 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-900/70 rounded-lg transition-colors duration-300">Delete Account</button>'),sr=N('<div class="bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-200 p-4 rounded-lg text-sm"> </div>'),or=pt('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Deleting...',1),dr=(o,s,v)=>{f(s,!1),f(v,"")},ir=N('<form class="space-y-4"><div><label for="username" class="block text-sm font-medium text-red-700 dark:text-red-300 mb-2">Username</label> <input type="text" id="username" name="username" placeholder="Enter your username" class="w-full px-4 py-2 rounded-lg border border-red-300 dark:border-red-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-400 dark:focus:border-red-400 outline-none transition-all" required></div> <div><label for="password" class="block text-sm font-medium text-red-700 dark:text-red-300 mb-2">Password</label> <input type="password" id="password" name="password" placeholder="Enter your password" class="w-full px-4 py-2 rounded-lg border border-red-300 dark:border-red-700 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-400 dark:focus:border-red-400 outline-none transition-all" required></div> <!> <div class="flex gap-4"><button type="submit" class="flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors duration-300 flex items-center justify-center"><!></button> <button type="button" class="flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors duration-300">Cancel</button></div></form>'),nr=N('<div class="min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100"><header class="bg-gradient-to-r from-emerald-600 to-cyan-600 py-16 px-4"><div class="container mx-auto max-w-6xl"><div><h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Dashboard</h1> <p class="text-emerald-100 text-lg md:text-xl max-w-2xl">Manage your account and track your progress across challenges.</p></div></div></header> <section class="py-12"><!> <div class="container mt-10 mx-auto max-w-4xl px-4"><div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8"><div class="space-y-6"><div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">Sign Out</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Sign out of your account</p></div> <button class="px-4 py-2 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors duration-300 flex items-center"><!></button></div> <div class="p-4 bg-red-50 dark:bg-red-900/20 rounded-lg"><div class="flex items-center justify-between mb-4"><div><h3 class="text-lg font-medium text-red-800 dark:text-red-200">Delete Account</h3> <p class="text-sm text-red-700 dark:text-red-300">Permanently delete your account and all associated data</p></div> <!></div> <!></div></div></div></div></section></div>');function wr(o,s){me(s,!0);let v=T(!1),x=T(!1),u=T("");ye(async()=>{await ze()||Et("/login")});const p=async h=>{h.preventDefault();const $=h.target,H=new FormData($),W=H.get("username"),V=H.get("password");f(x,!0);const q=await(await fetch("/api/delete-account",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:W,password:V})})).json();q.success?(be.set(!1),f(v,!1),await Et("/login")):q.err?f(u,M(q.err)):f(u,"Error trying to delete account, maybe try again? If this keeps happening, please contact support."),f(x,!1)};var C=nr(),m=r(C),y=r(m),S=r(y);e(y),e(m);var k=n(m,2),I=r(k);Xe(I,{});var b=n(I,2),L=r(b),R=r(L),G=r(R),F=n(r(G),2);F.__click=[tr,x];var lt=r(F);{var ft=h=>{var $=er();J(),w(h,$)},ct=h=>{var $=ce("Sign Out");w(h,$)};z(lt,h=>{t(x)?h(ft):h(ct,!1)})}e(F),e(G);var vt=n(G,2),K=r(vt),Q=n(r(K),2);{var X=h=>{var $=ar();$.__click=[rr,v],w(h,$)};z(Q,h=>{t(v)||h(X)})}e(K);var tt=n(K,2);{var et=h=>{var $=ir(),H=n(r($),4);{var W=D=>{var P=sr(),ht=r(P,!0);e(P),O(()=>_(ht,t(u))),w(D,P)};z(H,D=>{t(u)&&D(W)})}var V=n(H,2),Z=r(V),q=r(Z);{var rt=D=>{var P=or();J(),w(D,P)},gt=D=>{var P=ce("Confirm Delete");w(D,P)};z(q,D=>{t(x)?D(rt):D(gt,!1)})}e(Z);var mt=n(Z,2);mt.__click=[dr,v,u],e(V),e($),O(()=>Z.disabled=t(x)),Be("submit",$,p),w(h,$)};z(tt,h=>{t(v)&&h(et)})}e(vt),e(R),e(L),e(b),e(k),e(C),O(()=>F.disabled=t(x)),xe(1,S,()=>Le,()=>({y:-20,duration:800})),xe(1,L,()=>qe,()=>({duration:500})),w(o,C),he()}Re(["click"]);export{wr as component};
