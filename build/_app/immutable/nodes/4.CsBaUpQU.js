import{t as q,a as n,n as I,b as J}from"../chunks/6w1StL2M.js";import{p as L,t as _,a as N,c as r,s as v,r as t,i as l,j as C,k as j,l as o}from"../chunks/Bm_VgG9E.js";import{e as U,s as V}from"../chunks/8TWQb_4_.js";import{i as A}from"../chunks/Cjra9w-q.js";import{t as S,f as G,a as K}from"../chunks/15L3tq2V.js";import{p as Q}from"../chunks/BYUgaS6m.js";import{o as R}from"../chunks/BLBxmbFV.js";import{c as D}from"../chunks/BxC8vcHP.js";import{g as P}from"../chunks/CqrwVcUq.js";var W=q('<div class="bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-200 p-4 rounded-lg text-sm"> </div>'),X=I('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Creating account...',1),Y=q('<div class="min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100"><header class="bg-gradient-to-r from-emerald-600 to-cyan-600 py-16 px-4"><div class="container mx-auto max-w-6xl"><div><h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Create Account</h1> <p class="text-emerald-100 text-lg md:text-xl max-w-2xl">Begin your journey in mastering cybersecurity and start solving challenges today.</p></div></div></header> <section class="py-12"><div class="container mx-auto max-w-md px-4"><div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8"><form class="space-y-6"><div><label for="username" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Username</label> <input type="text" id="username" name="username" placeholder="Choose a username" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 dark:focus:ring-emerald-400 dark:focus:border-emerald-400 outline-none transition-all" required></div> <div><label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label> <input type="password" id="password" name="password" placeholder="Choose a password" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 dark:focus:ring-emerald-400 dark:focus:border-emerald-400 outline-none transition-all" required></div> <!> <button type="submit" class="w-full px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-medium rounded-lg transition-colors duration-300 flex items-center justify-center"><!></button></form> <div class="mt-6 text-center"><p class="text-sm text-gray-600 dark:text-gray-400">Already have an account? <a href="/login" class="text-emerald-500 hover:text-emerald-600 font-medium">Sign in</a></p></div></div></div></section></div>');function ne(z,B){L(B,!0),R(async()=>{await D()&&P("/dashboard")});let i=C(!1),s=C("");const E=async e=>{e.preventDefault();const a=e.target,d=new FormData(a),w=d.get("username"),k=d.get("password");if(!w||!k){o(s,"Please enter both username and password");return}o(i,!0);const f=await(await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,password:k})})).json();f.success&&await D()?(await P("/dashboard"),o(s,"")):f.err?o(s,Q(f.err)):o(s,"Error trying to sign up, maybe try again? If this keeps happening, please contact support."),o(i,!1)};var c=Y(),m=r(c),x=r(m),M=r(x);t(x),t(m);var b=v(m,2),y=r(b),p=r(y),g=r(p),h=v(r(g),4);{var O=e=>{var a=W(),d=r(a,!0);t(a),_(()=>V(d,l(s))),n(e,a)};A(h,e=>{l(s)&&e(O)})}var u=v(h,2),T=r(u);{var F=e=>{var a=X();j(),n(e,a)},H=e=>{var a=J("Create Account");n(e,a)};A(T,e=>{l(i)?e(F):e(H,!1)})}t(u),t(g),j(2),t(p),t(y),t(b),t(c),_(()=>u.disabled=l(i)),S(1,M,()=>G,()=>({y:-20,duration:800})),U("submit",g,E),S(1,p,()=>K,()=>({duration:500})),n(z,c),N()}export{ne as component};
